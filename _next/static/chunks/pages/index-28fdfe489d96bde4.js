(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(9267)}])},9267:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var i=a(5893),s=a(7294),l=a(5861),n=a(5616),r=a(4386),d=a(3946),c=a(6886),o=a(6242),u=a(4267),h=a(1903),x=a(9417),Z=a(657),v=a(7645),m=a(6580),j=a(2453),f=a(1797),g=a(6761),p=a(1113),C=a(6501),w=a(1163),k=a(5675),N=a.n(k),b=a(5121);function S(){let e=(0,w.useRouter)(),[t,a]=(0,s.useState)(!1),[k,S]=(0,s.useState)([]),[I,P]=(0,s.useState)(!1),_=(0,s.useCallback)(async()=>{a(!0);let{data:e}=await b.Z.get("http://54.173.40.227:3001/advertisers");S(e),a(!1),console.log(e),console.log("123123123")},[]);(0,s.useEffect)(()=>{_()},[_]);let[z,A]=(0,s.useState)(""),[y,E]=(0,s.useState)(""),[W,D]=(0,s.useState)(""),[M,O]=(0,s.useState)(""),[T,G]=(0,s.useState)(""),L=(0,s.useCallback)(()=>{A(""),E("")},[]),R=(0,s.useCallback)(async()=>{if(""===z.trim()){C.ZP.error((0,i.jsx)(l.Z,{children:"Enter the advertiser ID."}));return}if(""===y.trim()){C.ZP.error((0,i.jsx)(l.Z,{children:"Enter the advertiser Name."}));return}let{data:e}=await b.Z.post("http://54.173.40.227:3001/advertisers",{advId:z,advName:y});!0===e.success?C.ZP.success((0,i.jsx)(l.Z,{children:e.msg})):C.ZP.error((0,i.jsx)(l.Z,{children:e.msg})),_(),L()},[z,y,L,_]),X=(0,s.useCallback)(()=>{P(!0)},[]),q=(0,s.useCallback)(async e=>{let{data:t}=await b.Z.get("http://54.173.40.227:3001/advertisers/".concat(e));O(t.advName),D(t.advId),G(t.id),X()},[X]),H=(0,s.useCallback)(async e=>{await b.Z.delete("http://54.173.40.227:3001/advertisers/".concat(e)),_()},[_]),U=(0,s.useCallback)(async t=>{let{data:a}=await b.Z.get("http://54.173.40.227:3001/advertisers/".concat(t));e.push({pathname:"/ads",query:{advId:a.advId}})},[e]),$=(0,s.useCallback)(()=>{P(!1)},[]),B=(0,s.useCallback)(async()=>{await b.Z.patch("http://54.173.40.227:3001/advertisers/".concat(T),{advId:W,advName:M}),_(),$()},[T,$,W,M,_]);return(0,i.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(c.ZP,{item:!0,xs:12,lg:3,children:(0,i.jsx)(o.Z,{children:(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(n.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,p:2,mb:3},children:(0,i.jsx)(N(),{src:"/logo.png",alt:"Logo",width:250,height:120})}),(0,i.jsx)(h.Z,{fullWidth:!0,label:"Advertiser Id",sx:{mb:2},value:z,onChange:e=>A(e.target.value)}),(0,i.jsx)(h.Z,{fullWidth:!0,label:"Advertiser Name",value:y,onChange:e=>E(e.target.value)}),(0,i.jsx)(x.Z,{size:"large",variant:"contained",sx:{textTransform:"none",mt:2},fullWidth:!0,onClick:R,children:"Add Advertiser"})]})})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,lg:9,children:(0,i.jsx)(o.Z,{children:(0,i.jsx)(u.Z,{children:(0,i.jsx)(j._$,{rows:k,columns:[{field:"id",headerName:"No",width:100},{field:"advId",headerName:"Advertiser ID",width:250},{field:"advName",headerName:"Advertiser Name",width:250},{filed:"action",headerName:"Action",width:160,renderCell:e=>{let{row:t}=e;return(0,i.jsxs)(n.Z,{children:[(0,i.jsx)(r.Z,{title:"edit",followCursor:!0,children:(0,i.jsx)(d.Z,{color:"primary",variant:"outlined",size:"small",onClick:()=>q(t.index),children:(0,i.jsx)(f.Z,{fontSize:"small"})})}),(0,i.jsx)(r.Z,{title:"delete",followCursor:!0,children:(0,i.jsx)(d.Z,{color:"error",variant:"outlined",size:"small",onClick:()=>H(t.index),children:(0,i.jsx)(g.Z,{fontSize:"small"})})}),(0,i.jsx)(r.Z,{title:"Ads List",followCursor:!0,children:(0,i.jsx)(d.Z,{color:"success",variant:"outlined",size:"small",onClick:()=>U(t.index),children:(0,i.jsx)(p.Z,{fontSize:"small"})})})]})}}],getRowId:e=>e.advId+e.index,initialState:{pagination:{paginationModel:{pageSize:10}}},sx:{"& .MuiDataGrid-cellContent":{fontSize:"1rem"},"& .MuiDataGrid-columnHeaders":{fontSize:"1.1rem"}},pageSizeOptions:[10]})})})}),(0,i.jsx)(C.x7,{position:"top-right"}),(0,i.jsxs)(Z.Z,{open:I,onClose:$,maxWidth:"xs",children:[(0,i.jsx)(v.Z,{children:"Update Advertiser Info"}),(0,i.jsx)(m.Z,{children:(0,i.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(c.ZP,{item:!0,xs:12,children:(0,i.jsx)(h.Z,{label:"Advertiser Id",variant:"outlined",sx:{mt:1},fullWidth:!0,value:W,onChange:e=>D(e.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,children:(0,i.jsx)(h.Z,{label:"Advertiser Name",variant:"outlined",fullWidth:!0,value:M,onChange:e=>O(e.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,children:(0,i.jsx)(x.Z,{variant:"contained",fullWidth:!0,size:"large",onClick:B,children:"Change"})})]})})]})]})}}},function(e){e.O(0,[346,582,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);